# PS2SC
Bounded model checker for PS 2.0

#### Prerequisites and Workflow

* Python2 - for compilation of the concurrent program into a sequential one (based on the [CSeq-framework](https://www.southampton.ac.uk/~gp1y10/cseq/)). Additionally, we require `pycparser` version 2.14, see [eliben/pycparser](https://github.com/eliben/pycparser). This can be installed using `pip` as 
```
  pip install pycparser==2.14
```


* CBMC - the CBMC binary which can be accessed from [here](http://www.cprover.org/cbmc/) and should be on your PATH. CBMC is the backend for verifying the sequentialized program generated by PS2SC.

#### Basic Usage

Make sure that `Python2.7` is available from the working directory. To do this from new machines, good options are using [pyenv](https://github.com/pyenv/pyenv).

`cseq-feeder.py` is the driver script. Enable execution permission for it (`chmod 755 cseq-feeder.py`). Then invoke this as follows

```bash
  ./cseq-feeder.py -i testcase_file.c --ee <ee-bound> --rounds <context-switches> -- prom <promises>

options:
    <ee-bound>          : this is the bound on the  number of Essential Events (see Paper)
    <context-switches>  : number of context-switches allowed in the sequentialized program (see CSeq)
    <promises>          : to enable promises set as 1, to disable promises set as 0
```

This generates a file `_cs_testcase_file.c`. This should be passed to `cbmc` as usual

```
  cbmc _cs_testcase_file.c <other cbmc options>
```

#### Benchmarks

Testcases are available in the `benchmarks/` folder; `benchmarks/scripts` contains relevant scripts for compiling the files to `_cs_` files and for running `cbmc` on them. Please note that each script should be placed pulled out of `benchmarks/scripts` and into the `benchmarks` folder before running for the paths to work out (alternatively, peek into the simple scripts to tweak the paths).

#### Licensing

This tool is under an MIT License - see [LICENSE](LICENSE.txt)

This tool uses the [CSeq-framework](https://www.southampton.ac.uk/~gp1y10/cseq/) and [CBMC](https://www.cprover.org/cbmc/) as the backend verifier - for related licensing see [LICENSE-CSeq](LICENSE-CSeq.txt). The verifier-backend used is [LICENSE-CBMC](LICENSE-CBMC.txt).

